{% extends 'base.html' %}
{% load static %}

<head>
  <link href='https://fonts.googleapis.com/css?family=DM Sans' rel='stylesheet'>
</head>
{% block styles %}
<style>
    body, html {
      height: 100%;
      font-family:"DM Sans";
    }

    .chat-container {
      flex-grow: 1;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center; /* Center content vertically */
      align-items: center; /* Center content horizontally */
      padding-left: 250px;
    }

    .card {
      position: relative;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-direction: column;
      flex-direction: column;
      min-width: 0;
      word-wrap: break-word;
      background-color: #fff;
      background-clip: border-box;
      border: 1px solid transparent rgb(255, 255, 255);
      width: 100%;
      height: 100%;
      padding-left: 40px;
      margin-left: 40px;
    }

    .dashboard-heading {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 40px;
      color: rgb(76, 76, 76);
      font-family:"DM Sans";
      padding-top: 9%;
    }

    .line {
      border-top: 2px solid white;
      margin-bottom: 20px;
    }

    .box-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }

    .box {
      width: calc(45% - 50px);
      height: auto; /* Change height to auto */
      background-color: #f0f0f0;
      margin-bottom: 90px;
      margin-right: 50px;
      padding: 20px;
      box-sizing: border-box;
      position: relative;
    }

    .box-heading {
      font-size: 18px;
      margin-bottom: 10px;
      font-family: "DM Sans";
      font-weight: medium;
      position: absolute;
      top: -30px;
      left: 0;
      right: 0;
      text-align: left;
      margin: auto;
      color: rgb(127, 127, 127);
    }

    .assessment-table {
      width: 100%;
      border-collapse: collapse;
      border: 1px solid #ddd;
      margin-top: 10px;
      /* Add margin-top and margin-bottom to center the table */
      margin-top: 5px;
      margin-bottom: 5px;
    }

    .assessment-table th, .assessment-table td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    .assessment-table tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    .assessment-table th {
      background-color: #007bff;
      color: white;
    }

    .view-results-btn {
      cursor: pointer;
      background-color: rgb(216, 27, 93);
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 14px;
    }
</style>
{% endblock %}


{% block content %}


  {% include 'sidebar.html' %}
  <div class="chat-container">
    <div class="card flex-grow-1 ">
      <div class="card-body messages-box">
        <div class="dashboard-heading">Dashboard</div>
        <div class="line"></div>
        <div class="box-container">
          <div class="box">
            <div class="box-heading">Recent Assessments</div>
            
   
     <!--RECENT ASSESSMENTS-->
            {% if assessment_history %}
    <table class="assessment-table">
      <thead>
        <tr>
          <th>Assessment ID</th>
          <th>Score</th>
          <th>Date Taken</th>
        </tr>
      </thead>
      <tbody>
        {% for history in assessment_history %}
        <tr>
          <td>{{ history.assessment_id }}</td>
          <td>{{ history.score }} / {{history.max_score}}</td>
          <td>{{ history.date_taken|date:"Y-m-d " }}</td> 
        </tr>
        {% endfor %}
      </tbody>
    </table>
    
  {% else %}
    <p>No assessment history found.</p>
  {% endif %}

  <!--RECENT ASSESSMENTS-->

          </div>
          <div class="box">
            <div class="box-heading">Recommendations</div>
          </div>
          <div class="box">
            <div class="box-heading">Quick Tips</div>
          </div>
          <div class="box">
            <div class="box-heading">Reports</div>
          </div>
        </div>
      </div>
    </div>
  </div>



{% endblock %}
